(function(b,a){a.methods={};a.map={spans:[],slugs:[]};a.methods.checkResponse=function(c){return typeof c.success!=="undefined"&&c.success&&typeof c.data==="object"};a.methods.onError=function(){b(a.map.spans).each(function(d,c){c.remove()});b(document).trigger("ajax_template_part_error",a.map);b(document).trigger("ajax_template_part_done")};a.methods.onSuccess=function(c){b(a.map.spans).each(function(e,d){if(typeof c[e]==="string"){d.replace(c[e])}});b(document).trigger("ajax_template_part_success",a.map);b(document).trigger("ajax_template_part_done")};a.methods.callAjax=function(){return b.ajax({url:a.info.ajax_url,dataType:"json",type:"POST",data:{action:"ajaxtemplatepart",query_data:a.info.query_data,files_data:a.map.slugs}})};a.methods.parseDom=function(){b("span[data-ajaxtemplatename]").each(function(f,g){var e=b(g);var h=b(g).attr("id");var d=e.data("ajaxtemplatename");var c=e.data("ajaxtemplateslug");if(typeof h==="string"&&h!==""&&typeof d==="string"&&d!==""){if(typeof c!=="string"){c=false}a.map.spans[h]=e;a.map.slugs[h]=[d,c]}e.data("ajaxtemplatename",null);e.data("ajaxtemplateslug",null)})};a.methods.update=function(){if(a.map.spans.length<1||a.map.spans.length!==a.map.slugs.length){return false}a.methods.callAjax().done(function(c){if(a.methods.checkResponse(c)){a.methods.onSuccess(c.data)}else{a.methods.onError()}}).fail(function(){a.methods.onError()})};b(document).ready(function(){a.methods.parseDom();a.methods.update()});b(document).on("ajax_template_part_done",function(){a.map={spans:[],slugs:[]}})})(jQuery,AjaxTemplatePartData);